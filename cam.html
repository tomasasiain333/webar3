<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Test cámara</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; padding: 16px; }
    button { font-size: 18px; padding: 12px 16px; border-radius: 12px; }
    video { width: 100%; margin-top: 12px; background: #000; border-radius: 12px; }
    #msg { margin-top: 10px; opacity: .85; }
  </style>
</head>
<body>
  <button id="b">Probar cámara</button>
  <div id="msg">Pulsa el botón y acepta permisos.</div>
  <video id="v" autoplay playsinline muted></video>

  <script>
    const b = document.getElementById('b');
    const v = document.getElementById('v');
    const msg = document.getElementById('msg');

    b.onclick = async () => {
      try {
        msg.textContent = "Pidiendo cámara…";
        const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: false });
        v.srcObject = stream;
        msg.textContent = "Cámara OK ✅";
      } catch (e) {
        msg.textContent = "Error de cámara: " + (e && e.name ? e.name : e);
      }
    };
  </script>
</body>
</html>
